<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Module 2</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="John Mao" />
<link rel="stylesheet" type="text/css" href="../css/stylesheet.css" />
<script type="text/javascript">
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.cacheClassElem = elem.className;
         elem.cacheClassTarget = target.className;
         target.className = "code-highlighted";
         elem.className   = "code-highlighted";
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(elem.cacheClassElem)
         elem.className = elem.cacheClassElem;
       if(elem.cacheClassTarget)
         target.className = elem.cacheClassTarget;
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="../index.html"> UP </a>
 |
 <a accesskey="H" href="../index.html"> HOME </a>
</div><div id="content">
<h1 class="title">Module 2</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org7926730">Learning Goals</a></li>
<li><a href="#org135d16b">cond Expressions</a>
<ul>
<li><a href="#org4dba0df">Evaluating cond</a></li>
</ul>
</li>
<li><a href="#orga2fb039">Data Definitions</a>
<ul>
<li><a href="#org87a4ec2">The problem domain</a></li>
</ul>
</li>
<li><a href="#orge524706">Atomic Non-Distinct</a></li>
<li><a href="#org8f0d375">HtDF With Non-Primitive Data</a></li>
<li><a href="#orge8beb25">HtDF X Structure of Data Orthogonality</a></li>
<li><a href="#org7f3338a">Interval</a></li>
<li><a href="#org00ef359">Enumeration</a></li>
<li><a href="#orgc9f0ce7">Itemization</a></li>
<li><a href="#orgf58af17">HtDF with Interval</a></li>
<li><a href="#orgaa6da0c">HtDF with Enumeration</a></li>
<li><a href="#org1b90da1">HtDF with Itemization</a></li>
<li><a href="#org3d87537">Struture of Information Flows Through</a></li>
</ul>
</div>
</div>
<p>
Created on 2020-08-06/00:36
</p>

<div id="outline-container-org7926730" class="outline-2">
<h2 id="org7926730">Learning Goals</h2>
<div class="outline-text-2" id="text-org7926730">
<ul class="org-ul">
<li>Be able to use the How to Design Data Definitions (HtDD) recipe to design data  definitions for atomic data.</li>
<li>Be able to identify problem domain information that should be represented as simple atomic data, intervals, enumerations, itemizations and mixed data itemizations.</li>
<li>Be able to use the Data Driven Templates recipe to generate templates for functions operating on atomic data</li>
<li>Be able to use the How to Design Functions (HtDF) recipe to design functions operating on atomic data.</li>
</ul>
</div>
</div>


<div id="outline-container-org135d16b" class="outline-2">
<h2 id="org135d16b">cond Expressions</h2>
<div class="outline-text-2" id="text-org135d16b">
<ul class="org-ul">
<li><code>cond</code> expression simplify writing conditional expressions with more than 2 cases.</li>
</ul>
<div class="org-src-container">
<pre class="src src-racket"><span style="color: #727072;">;; </span><span style="color: #727072;">To form cond expression</span>
  <span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">cond</span> <span style="color: #78DCE8;">[</span>&lt;expression&gt; &lt;expression&gt;<span style="color: #78DCE8;">]</span>
        <span style="color: #FF6188;">...</span><span style="color: #AB9DF2;">)</span> <span style="color: #727072;">; </span><span style="color: #727072;">one or more questions answer pairs</span>

<span style="color: #727072;">;; </span><span style="color: #727072;">Each question must evaluate to a boolean</span>
<span style="color: #727072;">;; </span><span style="color: #727072;">Last question can be else.</span>

</pre>
</div>

<ul class="org-ul">
<li><p>
Given the following:
</p>
<div class="org-src-container">
<pre class="src src-racket"><span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">require</span> 2htdp/image<span style="color: #AB9DF2;">)</span>

<span style="color: #727072;">;; </span><span style="color: #727072;">cond-starter.rkt</span>

<span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">define</span> <span style="color: #FCFCFA;">I1</span> <span style="color: #78DCE8;">(</span>rectangle <span style="color: #AB9DF2; font-weight: bold;">10</span> <span style="color: #AB9DF2; font-weight: bold;">20</span> <span style="color: #FFD866;">"solid"</span> <span style="color: #FFD866;">"red"</span><span style="color: #78DCE8;">)</span><span style="color: #AB9DF2;">)</span>
<span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">define</span> <span style="color: #FCFCFA;">I2</span> <span style="color: #78DCE8;">(</span>rectangle <span style="color: #AB9DF2; font-weight: bold;">20</span> <span style="color: #AB9DF2; font-weight: bold;">20</span> <span style="color: #FFD866;">"solid"</span> <span style="color: #FFD866;">"red"</span><span style="color: #78DCE8;">)</span><span style="color: #AB9DF2;">)</span>
<span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">define</span> <span style="color: #FCFCFA;">I3</span> <span style="color: #78DCE8;">(</span>rectangle <span style="color: #AB9DF2; font-weight: bold;">20</span> <span style="color: #AB9DF2; font-weight: bold;">10</span> <span style="color: #FFD866;">"solid"</span> <span style="color: #FFD866;">"red"</span><span style="color: #78DCE8;">)</span><span style="color: #AB9DF2;">)</span>

<span style="color: #727072;">;; </span><span style="color: #727072;">Image -&gt; String</span>
<span style="color: #727072;">;; </span><span style="color: #727072;">produce shape of image, one of "tall", "square" or "wide"</span>
<span style="color: #AB9DF2;">(</span>check-expect <span style="color: #78DCE8;">(</span>aspect-ratio I1<span style="color: #78DCE8;">)</span> <span style="color: #FFD866;">"tall"</span><span style="color: #AB9DF2;">)</span>
<span style="color: #AB9DF2;">(</span>check-expect <span style="color: #78DCE8;">(</span>aspect-ratio I2<span style="color: #78DCE8;">)</span> <span style="color: #FFD866;">"square"</span><span style="color: #AB9DF2;">)</span>
<span style="color: #AB9DF2;">(</span>check-expect <span style="color: #78DCE8;">(</span>aspect-ratio I3<span style="color: #78DCE8;">)</span> <span style="color: #FFD866;">"wide"</span><span style="color: #AB9DF2;">)</span>

<span style="color: #727072;">;</span><span style="color: #727072;">(define (aspect-ratio img) "")  ;stub</span>

<span style="color: #727072;">;</span><span style="color: #727072;">(define (aspect-ratio img)      ;template</span>
<span style="color: #727072;">;  </span><span style="color: #727072;">(... img))</span>

<span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">define</span> <span style="color: #78DCE8;">(</span><span style="color: #A9DC76;">aspect-ratio</span> img<span style="color: #78DCE8;">)</span>
  <span style="color: #78DCE8;">(</span><span style="color: #FF6188;">if</span> <span style="color: #FC9867;">(</span><span style="color: #78DCE8;">&gt;</span> <span style="color: #AB9DF2;">(</span>image-height img<span style="color: #AB9DF2;">)</span> <span style="color: #AB9DF2;">(</span>image-width img<span style="color: #AB9DF2;">)</span><span style="color: #FC9867;">)</span>
      <span style="color: #FFD866;">"tall"</span>
      <span style="color: #FC9867;">(</span><span style="color: #FF6188;">if</span> <span style="color: #AB9DF2;">(</span><span style="color: #78DCE8;">=</span> <span style="color: #78DCE8;">(</span>image-height img<span style="color: #78DCE8;">)</span> <span style="color: #78DCE8;">(</span>image-width img<span style="color: #78DCE8;">)</span><span style="color: #AB9DF2;">)</span>
          <span style="color: #FFD866;">"square"</span>
          <span style="color: #FFD866;">"wide"</span><span style="color: #FC9867;">)</span><span style="color: #78DCE8;">)</span><span style="color: #AB9DF2;">)</span>
</pre>
</div></li>
</ul>


<ul class="org-ul">
<li>This function defines three constants, I1, I2, I3.
<ul class="org-ul">
<li>All three are rectangles</li>
</ul></li>
</ul>


<ul class="org-ul">
<li>The function consumes an image and produces a string, one of "tall", "square", or "wide".</li>
<li>The issue with the function above is that there are 2 cases nested within the <code>if</code>.</li>
</ul>


<ul class="org-ul">
<li><p>
<code>cond</code> is a <i>multi-armed conditional.</i>
</p>
<ul class="org-ul">
<li>It can have any number of cases all at the same level.</li>
</ul>

<div class="org-src-container">
<pre class="src src-racket"><span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">require</span> 2htdp/image<span style="color: #AB9DF2;">)</span>

<span style="color: #727072;">#;</span>
<span style="color: #AB9DF2;">(</span><span style="color: #727072;">define </span><span style="color: #78DCE8;">(</span><span style="color: #727072;">aspect-ratio img</span><span style="color: #78DCE8;">)</span>
<span style="color: #727072;">  </span><span style="color: #78DCE8;">(</span><span style="color: #727072;">if </span><span style="color: #FC9867;">(</span><span style="color: #727072;">&gt; </span><span style="color: #AB9DF2;">(</span><span style="color: #727072;">image-height img</span><span style="color: #AB9DF2;">)</span><span style="color: #727072;"> </span><span style="color: #AB9DF2;">(</span><span style="color: #727072;">image-width img</span><span style="color: #AB9DF2;">)</span><span style="color: #FC9867;">)</span>
<span style="color: #727072;">      "tall"</span>
<span style="color: #727072;">      </span><span style="color: #FC9867;">(</span><span style="color: #727072;">if </span><span style="color: #AB9DF2;">(</span><span style="color: #727072;">= </span><span style="color: #78DCE8;">(</span><span style="color: #727072;">image-height img</span><span style="color: #78DCE8;">)</span><span style="color: #727072;"> </span><span style="color: #78DCE8;">(</span><span style="color: #727072;">image-width img</span><span style="color: #78DCE8;">)</span><span style="color: #AB9DF2;">)</span>
<span style="color: #727072;">          "square"</span>
<span style="color: #727072;">          "wide"</span><span style="color: #FC9867;">)</span><span style="color: #78DCE8;">)</span><span style="color: #AB9DF2;">)</span>

<span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">define</span> <span style="color: #78DCE8;">(</span><span style="color: #A9DC76;">aspect-ratio</span> img<span style="color: #78DCE8;">)</span> <span style="color: #727072;">; </span><span style="color: #727072;">() and [] balance each other.</span>
<span style="color: #727072;">;; </span><span style="color: #727072;">Both are equavalent but by convention, we use[ ] around question/answer pairs in cond.</span>
  <span style="color: #78DCE8;">(</span><span style="color: #FF6188;">cond</span> <span style="color: #FC9867;">[</span><span style="color: #AB9DF2;">(</span><span style="color: #78DCE8;">&gt;</span> <span style="color: #78DCE8;">(</span>image-height img<span style="color: #78DCE8;">)</span> <span style="color: #78DCE8;">(</span>image-width img<span style="color: #78DCE8;">)</span><span style="color: #AB9DF2;">)</span> <span style="color: #FFD866;">"tall"</span><span style="color: #FC9867;">]</span>
        <span style="color: #FC9867;">[</span><span style="color: #AB9DF2;">(</span><span style="color: #78DCE8;">=</span> <span style="color: #78DCE8;">(</span>image-height img<span style="color: #78DCE8;">)</span> <span style="color: #78DCE8;">(</span>image-width img<span style="color: #78DCE8;">)</span><span style="color: #AB9DF2;">)</span> <span style="color: #FFD866;">"square"</span><span style="color: #FC9867;">]</span>
        <span style="color: #FC9867;">[</span><span style="color: #FF6188;">else</span> <span style="color: #FFD866;">"wide"</span><span style="color: #FC9867;">]</span><span style="color: #78DCE8;">)</span><span style="color: #AB9DF2;">)</span>
</pre>
</div></li>
</ul>
</div>


<div id="outline-container-org4dba0df" class="outline-3">
<h3 id="org4dba0df">Evaluating cond</h3>
<div class="outline-text-3" id="text-org4dba0df">
<ul class="org-ul">
<li><b>To evaluate a cond expression</b></li>
</ul>
<div class="org-src-container">
<pre class="src src-racket"><span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">cond</span> <span style="color: #78DCE8;">[</span><span style="color: #FC9867;">(</span><span style="color: #78DCE8;">&gt;</span> <span style="color: #AB9DF2; font-weight: bold;">1</span> <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #FC9867;">)</span> <span style="color: #FFD866;">"bigger"</span><span style="color: #78DCE8;">]</span>
      <span style="color: #78DCE8;">[</span><span style="color: #FC9867;">(</span><span style="color: #78DCE8;">=</span> <span style="color: #AB9DF2; font-weight: bold;">1</span> <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #FC9867;">)</span> <span style="color: #FFD866;">"equal"</span><span style="color: #78DCE8;">]</span>
      <span style="color: #78DCE8;">[</span><span style="color: #FC9867;">(</span><span style="color: #78DCE8;">&lt;</span> <span style="color: #AB9DF2; font-weight: bold;">1</span> <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #FC9867;">)</span> <span style="color: #FFD866;">"smaller"</span><span style="color: #78DCE8;">]</span><span style="color: #AB9DF2;">)</span>

<span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">cond</span> <span style="color: #78DCE8;">[</span><span style="color: #78DCE8;">false</span> <span style="color: #FFD866;">"bigger"</span><span style="color: #78DCE8;">]</span>
      <span style="color: #78DCE8;">[</span><span style="color: #FC9867;">(</span><span style="color: #78DCE8;">=</span> <span style="color: #AB9DF2; font-weight: bold;">1</span> <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #FC9867;">)</span> <span style="color: #FFD866;">"equal"</span><span style="color: #78DCE8;">]</span>
      <span style="color: #78DCE8;">[</span><span style="color: #FC9867;">(</span><span style="color: #78DCE8;">&lt;</span> <span style="color: #AB9DF2; font-weight: bold;">1</span> <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #FC9867;">)</span> <span style="color: #FFD866;">"smaller"</span><span style="color: #78DCE8;">]</span><span style="color: #AB9DF2;">)</span>

<span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">cond</span> <span style="color: #78DCE8;">[</span><span style="color: #FC9867;">(</span><span style="color: #78DCE8;">=</span> <span style="color: #AB9DF2; font-weight: bold;">1</span> <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #FC9867;">)</span> <span style="color: #FFD866;">"equal"</span><span style="color: #78DCE8;">]</span>
      <span style="color: #78DCE8;">[</span><span style="color: #FC9867;">(</span><span style="color: #78DCE8;">&lt;</span> <span style="color: #AB9DF2; font-weight: bold;">1</span> <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #FC9867;">)</span> <span style="color: #FFD866;">"smaller"</span><span style="color: #78DCE8;">]</span><span style="color: #AB9DF2;">)</span>

<span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">cond</span> <span style="color: #78DCE8;">[</span><span style="color: #78DCE8;">false</span> <span style="color: #FFD866;">"equal"</span><span style="color: #78DCE8;">]</span>
      <span style="color: #78DCE8;">[</span><span style="color: #FC9867;">(</span><span style="color: #78DCE8;">&lt;</span> <span style="color: #AB9DF2; font-weight: bold;">1</span> <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #FC9867;">)</span> <span style="color: #FFD866;">"smaller"</span><span style="color: #78DCE8;">]</span><span style="color: #AB9DF2;">)</span>

<span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">cond</span> <span style="color: #78DCE8;">[</span><span style="color: #78DCE8;">true</span> <span style="color: #FFD866;">"smaller"</span><span style="color: #78DCE8;">]</span><span style="color: #AB9DF2;">)</span>

<span style="color: #FFD866;">"smaller"</span>
<span style="color: #727072;">;</span><span style="color: #727072;">done evaluating</span>
</pre>
</div>
<hr />
<ol class="org-ol">
<li>If there are no question/answer pairs, signal an error.</li>
<li>If the first question is not a value, evaluate it and replace it with its value.
<ul class="org-ul">
<li><p>
That is, replace the entire cond with a new cond in which the first question has been replaced by its value.
</p>
<div class="org-src-container">
<pre class="src src-racket"><span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">cond</span> <span style="color: #78DCE8;">[</span><span style="color: #78DCE8;">false</span> <span style="color: #FFD866;">"bigger"</span><span style="color: #78DCE8;">]</span>
      <span style="color: #78DCE8;">[</span><span style="color: #FC9867;">(</span><span style="color: #78DCE8;">=</span> <span style="color: #AB9DF2; font-weight: bold;">1</span> <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #FC9867;">)</span> <span style="color: #FFD866;">"equal"</span><span style="color: #78DCE8;">]</span>
      <span style="color: #78DCE8;">[</span><span style="color: #FC9867;">(</span><span style="color: #78DCE8;">&lt;</span> <span style="color: #AB9DF2; font-weight: bold;">1</span> <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #FC9867;">)</span> <span style="color: #FFD866;">"smaller"</span><span style="color: #78DCE8;">]</span><span style="color: #AB9DF2;">)</span>
</pre>
</div></li>
</ul></li>

<li>If the first question is true or else, replace the entire cond expression with the first answer.</li>
<li>If the first question is false drop the first question/answer pair.
<ul class="org-ul">
<li>That is, replace the cond with a new cond that does not have the first question/answer pair.</li>
</ul></li>
<li>Since the first question is not, ture or false, signal an error.</li>
</ol>



<ul class="org-ul">
<li>For function calls, <code>if</code> and <code>cond</code> all work by trying to reduce a program to a simpler program that does not have that construct.
<ul class="org-ul">
<li>Function call is replaced with body.</li>
<li><code>if</code> is replaced with true or false question.</li>
<li><code>cond</code> is replaced with one answer.</li>
</ul></li>
</ul>
</div>
</div>
</div>


<div id="outline-container-orga2fb039" class="outline-2">
<h2 id="orga2fb039">Data Definitions</h2>
<div class="outline-text-2" id="text-orga2fb039">
<ul class="org-ul">
<li>Data definitions explain how information is represented as data.</li>
</ul>


<ul class="org-ul">
<li><p>
Imagine this - You're working on a program written by somebody else that simulates traffic. You see this function:
</p>
<div class="org-src-container">
<pre class="src src-racket"><span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">define</span> <span style="color: #78DCE8;">(</span><span style="color: #A9DC76;">next-color</span> c<span style="color: #78DCE8;">)</span>
  <span style="color: #78DCE8;">(</span><span style="color: #FF6188;">cond</span> <span style="color: #FC9867;">[</span><span style="color: #AB9DF2;">(</span><span style="color: #78DCE8;">=</span> c <span style="color: #AB9DF2; font-weight: bold;">0</span><span style="color: #AB9DF2;">)</span> <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #FC9867;">]</span>
        <span style="color: #FC9867;">[</span><span style="color: #AB9DF2;">(</span><span style="color: #78DCE8;">=</span> c <span style="color: #AB9DF2; font-weight: bold;">1</span><span style="color: #AB9DF2;">)</span> <span style="color: #AB9DF2; font-weight: bold;">0</span><span style="color: #FC9867;">]</span>
        <span style="color: #FC9867;">[</span><span style="color: #AB9DF2;">(</span><span style="color: #78DCE8;">=</span> c <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #AB9DF2;">)</span> <span style="color: #AB9DF2; font-weight: bold;">1</span><span style="color: #FC9867;">]</span><span style="color: #78DCE8;">)</span><span style="color: #AB9DF2;">)</span>
</pre>
</div>
<ul class="org-ul">
<li>You may be confused as to what this function does.
<ul class="org-ul">
<li>The name <code>next-color</code> seems to produce the next colour but it's not very clear.</li>
</ul></li>
</ul></li>
</ul>


<ul class="org-ul">
<li><p>
Now lets imagine the same function, but with the HtDF recipe.
</p>
<div class="org-src-container">
<pre class="src src-racket"><span style="color: #727072;">;; </span><span style="color: #727072;">Part of a trafic simulation</span>

<span style="color: #727072;">;; </span><span style="color: #727072;">Natural -&gt; Natural</span>
<span style="color: #727072;">;; </span><span style="color: #727072;">produce next color of traffic light</span>
<span style="color: #AB9DF2;">(</span>check-expect <span style="color: #78DCE8;">(</span>next-color <span style="color: #AB9DF2; font-weight: bold;">0</span><span style="color: #78DCE8;">)</span> <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #AB9DF2;">)</span>
<span style="color: #AB9DF2;">(</span>check-expect <span style="color: #78DCE8;">(</span>next-color <span style="color: #AB9DF2; font-weight: bold;">1</span><span style="color: #78DCE8;">)</span> <span style="color: #AB9DF2; font-weight: bold;">0</span><span style="color: #AB9DF2;">)</span>
<span style="color: #AB9DF2;">(</span>check-expect <span style="color: #78DCE8;">(</span>next-color <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #78DCE8;">)</span> <span style="color: #AB9DF2; font-weight: bold;">1</span><span style="color: #AB9DF2;">)</span>

<span style="color: #727072;">; </span><span style="color: #727072;">(define (next-color c) 0) ; stub</span>

<span style="color: #727072;">; </span><span style="color: #727072;">(define (next-color c)    ; template</span>
<span style="color: #727072;">;    </span><span style="color: #727072;">(...c))</span>

<span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">define</span> <span style="color: #78DCE8;">(</span><span style="color: #A9DC76;">next-color</span> c<span style="color: #78DCE8;">)</span>
  <span style="color: #78DCE8;">(</span><span style="color: #FF6188;">cond</span> <span style="color: #FC9867;">[</span><span style="color: #AB9DF2;">(</span><span style="color: #78DCE8;">=</span> c <span style="color: #AB9DF2; font-weight: bold;">0</span><span style="color: #AB9DF2;">)</span> <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #FC9867;">]</span>
        <span style="color: #FC9867;">[</span><span style="color: #AB9DF2;">(</span><span style="color: #78DCE8;">=</span> c <span style="color: #AB9DF2; font-weight: bold;">1</span><span style="color: #AB9DF2;">)</span> <span style="color: #AB9DF2; font-weight: bold;">0</span><span style="color: #FC9867;">]</span>
        <span style="color: #FC9867;">[</span><span style="color: #AB9DF2;">(</span><span style="color: #78DCE8;">=</span> c <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #AB9DF2;">)</span> <span style="color: #AB9DF2; font-weight: bold;">1</span><span style="color: #FC9867;">]</span><span style="color: #78DCE8;">)</span><span style="color: #AB9DF2;">)</span>
</pre>
</div>
<ul class="org-ul">
<li>The signature says that it takes a natural.
<ul class="org-ul">
<li>Is it possible to call the function with <code>3</code>?</li>
<li>The examples don't show anything other than 0, 1, or 2.</li>
<li>The examples themselves are vague as to their meaning.
<ul class="org-ul">
<li>The examples may show that the function is most likely "correct", but what does it even mean when you input <code>0</code>, and get returned a <code>2</code>?</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>


<div id="outline-container-org87a4ec2" class="outline-3">
<h3 id="org87a4ec2">The problem domain</h3>
<div class="outline-text-3" id="text-org87a4ec2">
<ul class="org-ul">
<li>Using the <b>problem domain</b>, we can understand this problem.
<ul class="org-ul">
<li>In any program, we have the <b>problem domain</b>.
<ul class="org-ul">
<li>In this case, the problem domain pertains to traffic, the simluation of traffic, traffic lights, and cars, raods, and etc.</li>
</ul></li>
</ul></li>
</ul>


<ul class="org-ul">
<li>Within the problem domain, we have information.</li>
<li>Within this context, we may be able to tell that a certain colour will be red.</li>
</ul>


<ul class="org-ul">
<li>However, within the program, there are no red lights, green lights, or blue lights.</li>
<li><p>
Within the program, we have data, the natural number <code>0</code>.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Problem Domain</th>
<th scope="col" class="org-left">Program</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Information</td>
<td class="org-left">Data</td>
</tr>

<tr>
<td class="org-left">A light is red</td>
<td class="org-left">0</td>
</tr>
</tbody>
</table></li>
</ul>


<ul class="org-ul">
<li>Here, we represent information in the problem domain using data in the program.
<ul class="org-ul">
<li>The natural number <code>0</code> represents that some light may be red.</li>
</ul></li>
</ul>


<ul class="org-ul">
<li>The inverse of that relationship is that we can interpret the natural number <code>0</code>.
<ul class="org-ul">
<li>If we're told that the natural number <code>0</code> represents information about a light, we can interpret it as meaning that the light is red.</li>
</ul></li>
</ul>


<ul class="org-ul">
<li>Now, if you know, or have been told that <code>0</code> represents the colour red, it can be guessed that a <code>1</code> will represent yellow, and that <code>2</code> will represent green.</li>
</ul>


<ul class="org-ul">
<li>Instead of being given the information, you can use something called a <b>data definition.</b>
<ul class="org-ul">
<li>Data definitions describe how we are representing information as data.</li>
</ul></li>
</ul>



<ul class="org-ul">
<li><p>
Here is a third version of the same program that uses a data definition.
</p>
<div class="org-src-container">
<pre class="src src-racket"><span style="color: #727072;">;; </span><span style="color: #727072;">Data definitions:</span>

<span style="color: #727072;">;; </span><span style="color: #727072;">TLColor is one of:   ; type comment</span>
<span style="color: #727072;">;; </span><span style="color: #727072;">- 0</span>
<span style="color: #727072;">;; </span><span style="color: #727072;">- 1</span>
<span style="color: #727072;">;; </span><span style="color: #727072;">- 2</span>
<span style="color: #727072;">;; </span><span style="color: #727072;">interp. color of a traffic light - 0 is red, 1 yellow, 2 green  ; interpretation</span>
<span style="color: #727072;">#;</span>
<span style="color: #AB9DF2;">(</span><span style="color: #727072;">define </span><span style="color: #78DCE8;">(</span><span style="color: #727072;">fn-for-tlcolor c</span><span style="color: #78DCE8;">)</span><span style="color: #727072;">  ; template skeleton</span>
<span style="color: #727072;">  </span><span style="color: #78DCE8;">(</span><span style="color: #727072;">cond </span><span style="color: #FC9867;">[</span><span style="color: #AB9DF2;">(</span><span style="color: #727072;">= c 0</span><span style="color: #AB9DF2;">)</span><span style="color: #727072;"> </span><span style="color: #AB9DF2;">(</span><span style="color: #727072;">...</span><span style="color: #AB9DF2;">)</span><span style="color: #FC9867;">]</span>
<span style="color: #727072;">        </span><span style="color: #FC9867;">[</span><span style="color: #AB9DF2;">(</span><span style="color: #727072;">= c 1</span><span style="color: #AB9DF2;">)</span><span style="color: #727072;"> </span><span style="color: #AB9DF2;">(</span><span style="color: #727072;">...</span><span style="color: #AB9DF2;">)</span><span style="color: #FC9867;">]</span>
<span style="color: #727072;">        </span><span style="color: #FC9867;">[</span><span style="color: #AB9DF2;">(</span><span style="color: #727072;">= c 2</span><span style="color: #AB9DF2;">)</span><span style="color: #727072;"> </span><span style="color: #AB9DF2;">(</span><span style="color: #727072;">...</span><span style="color: #AB9DF2;">)</span><span style="color: #FC9867;">]</span><span style="color: #78DCE8;">)</span><span style="color: #AB9DF2;">)</span>



<span style="color: #727072;">;; </span><span style="color: #727072;">Functions:</span>

<span style="color: #727072;">;; </span><span style="color: #727072;">TLColor -&gt; TLColor</span>
<span style="color: #727072;">;; </span><span style="color: #727072;">produce next color of traffic light</span>
<span style="color: #AB9DF2;">(</span>check-expect <span style="color: #78DCE8;">(</span>next-color <span style="color: #AB9DF2; font-weight: bold;">0</span><span style="color: #78DCE8;">)</span> <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #AB9DF2;">)</span>
<span style="color: #AB9DF2;">(</span>check-expect <span style="color: #78DCE8;">(</span>next-color <span style="color: #AB9DF2; font-weight: bold;">1</span><span style="color: #78DCE8;">)</span> <span style="color: #AB9DF2; font-weight: bold;">0</span><span style="color: #AB9DF2;">)</span>
<span style="color: #AB9DF2;">(</span>check-expect <span style="color: #78DCE8;">(</span>next-color <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #78DCE8;">)</span> <span style="color: #AB9DF2; font-weight: bold;">1</span><span style="color: #AB9DF2;">)</span>

<span style="color: #727072;">; </span><span style="color: #727072;">(define (next-color c) 0)  ; stub</span>

<span style="color: #727072;">; </span><span style="color: #727072;">Template from TLColor</span>

<span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">define</span> <span style="color: #78DCE8;">(</span><span style="color: #A9DC76;">next-color</span> c<span style="color: #78DCE8;">)</span>
  <span style="color: #78DCE8;">(</span><span style="color: #FF6188;">cond</span> <span style="color: #FC9867;">[</span><span style="color: #AB9DF2;">(</span><span style="color: #78DCE8;">=</span> c <span style="color: #AB9DF2; font-weight: bold;">0</span><span style="color: #AB9DF2;">)</span> <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #FC9867;">]</span>
        <span style="color: #FC9867;">[</span><span style="color: #AB9DF2;">(</span><span style="color: #78DCE8;">=</span> c <span style="color: #AB9DF2; font-weight: bold;">1</span><span style="color: #AB9DF2;">)</span> <span style="color: #AB9DF2; font-weight: bold;">0</span><span style="color: #FC9867;">]</span>
        <span style="color: #FC9867;">[</span><span style="color: #AB9DF2;">(</span><span style="color: #78DCE8;">=</span> c <span style="color: #AB9DF2; font-weight: bold;">2</span><span style="color: #AB9DF2;">)</span> <span style="color: #AB9DF2; font-weight: bold;">1</span><span style="color: #FC9867;">]</span><span style="color: #78DCE8;">)</span><span style="color: #AB9DF2;">)</span>
</pre>
</div></li>
<li>Here, the file is divided into two parts.
<ol class="org-ol">
<li>The data definitions.
<ul class="org-ul">
<li>We have one data definition here.</li>

<li>The data defintions starts with a <i>type comment</i>.
<ul class="org-ul">
<li><i>type commment</i> defines a new type name.
<ul class="org-ul">
<li>Here it's used to define <code>TLColor</code>.</li>
</ul></li>
<li>It also shows how to form that data.
<ul class="org-ul">
<li>Here, it's either 0, 1, or 2.</li>
</ul></li>
</ul></li>

<li><i>Interpretation</i> explains how to interpret data of this type as information thereby establishing the information/data correspondence.
<ul class="org-ul">
<li>Here, it says that a <code>TLColor</code> is the color of a traffic light, and <code>0</code> means red, <code>1</code> means yellow, and <code>2</code> means green.</li>
</ul></li>

<li>The last part is a <i>template skeleton</i> for one-argument functions that consume data of this type.
<ul class="org-ul">
<li>This template is for operating on <code>TlColor</code>.</li>
<li>This template is saying that if you're designing a function that operates on <code>TLColor</code>, then there's three cases.
<ol class="org-ol">
<li>The color is zero.</li>

<li>The color is one.</li>

<li>The color is two.</li>
</ol></li>
</ul></li>
</ul></li>

<li>The functions.
<ul class="org-ul">
<li>The signature says this function consumes a <code>TLColor</code> and produces a <code>TLColor</code>.
<ul class="org-ul">
<li>The question from earlier is answered, this function can't consume a four or a three because it can only consume a <code>TLColor</code>, which only includes 0, 1, and 2.</li>
</ul></li>

<li>Now this function is easy to understand. It takes a <code>TLColor</code> and produces another, meaning that if you input a colour of zero, which is red, it will produce a two, which means green.
<ul class="org-ul">
<li>After a red light, it's green.</li>
</ul></li>

<li>The next color is <code>1</code>. or yellow, and that produces a <code>0</code>, which means red.</li>

<li>Next is the template, it comes from <code>TLColor</code> since the function consumes a <code>TLColor</code>.
<ul class="org-ul">
<li>From now on, most templates will be determined by the type of data it consumes.</li>
</ul></li>
</ul></li>
</ol></li>
</ul>



<ul class="org-ul">
<li>A data definition describes:
<ol class="org-ol">
<li>How to from data of a new type</li>
<li>How to represent information as data</li>
<li>How to interpret data as information</li>
<li>Template for operating on data</li>
</ol></li>
</ul>


<ul class="org-ul">
<li>A data definition simplifies functions:
<ol class="org-ol">
<li>Restricts data consumed</li>
<li>Restricts data produced</li>
<li>Helps generate examples</li>
<li>Provides template</li>
</ol></li>
</ul>
</div>
</div>
</div>


<div id="outline-container-orge524706" class="outline-2">
<h2 id="orge524706">Atomic Non-Distinct</h2>
<div class="outline-text-2" id="text-orge524706">
<ul class="org-ul">
<li>First example of using HtDD recipe and Data Driven Templates recipes.</li>
</ul>


<ul class="org-ul">
<li>Imagine that you are designing a program that, among other things, has information about the names of cities in its problem domain.
<ul class="org-ul">
<li>Design a data definition to represent the name of a city.</li>
</ul></li>

<li>When we design a data definition, we need to decide the form of the data that we're going to represent.
<ul class="org-ul">
<li><i>Examples</i>
<ul class="org-ul">
<li>Vancouver</li>
<li>Boston</li>
</ul></li>
</ul></li>
<li>City names such as Vancouver and Boston are atomic.
<ul class="org-ul">
<li>You cannot take it apart into pieces that are still meaningful to the problem domain</li>
</ul></li>
</ul>


<ul class="org-ul">
<li>A data definition consists of four or five parts.</li>
</ul>


<ul class="org-ul">
<li>A possible <b>structure definition</b> (not until week 3)</li>
<li><p>
A <b>type comment</b> that defines a new type name and describes how to form data of that type.
</p>
<div class="org-src-container">
<pre class="src src-racket"><span style="color: #727072;">;; </span><span style="color: #727072;">CityName is String</span>
</pre>
</div></li>
</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Information</th>
<th scope="col" class="org-left">DATA</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Vancouver</td>
<td class="org-left">"Vancouver"</td>
</tr>

<tr>
<td class="org-left">Boston</td>
<td class="org-left">"Boston"</td>
</tr>
</tbody>
</table>
<ul class="org-ul">
<li><p>
An <b>interpretation</b> that describes the correspondence between information and data.
</p>
<div class="org-src-container">
<pre class="src src-racket"><span style="color: #727072;">;; </span><span style="color: #727072;">interp. the name of a city</span>
</pre>
</div></li>
<li><p>
One or more <b>examples</b> of the data.
</p>
<div class="org-src-container">
<pre class="src src-racket"><span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">define</span> <span style="color: #FCFCFA;">CN1</span> <span style="color: #FFD866;">"Boston"</span><span style="color: #AB9DF2;">)</span>
<span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">define</span> <span style="color: #FCFCFA;">CN2</span> <span style="color: #FFD866;">"Vancouver"</span><span style="color: #AB9DF2;">)</span>
</pre>
</div></li>
<li>A <b>template</b> for a 1 argument function operating on this type of data.
<ul class="org-ul">
<li><p>
For a given <code>TypeName</code> the data driven template is:
</p>
<div class="org-src-container">
<pre class="src src-racket"><span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">define</span> <span style="color: #78DCE8;">(</span><span style="color: #A9DC76;">fn-for-type-name</span> x<span style="color: #78DCE8;">)</span>
  &lt;body&gt;<span style="color: #AB9DF2;">)</span>
</pre>
</div></li>
<li><p>
Therefore, the template for this example will be
</p>
<div class="org-src-container">
<pre class="src src-racket"><span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">define</span>  <span style="color: #78DCE8;">(</span><span style="color: #A9DC76;">fn-for-city-name</span> CN<span style="color: #78DCE8;">)</span>
  <span style="color: #78DCE8;">(</span><span style="color: #FF6188;">...</span> CN<span style="color: #78DCE8;">)</span>
  <span style="color: #AB9DF2;">)</span>

<span style="color: #727072;">;; </span><span style="color: #727072;">Template rules used:</span>
<span style="color: #727072;">;; </span><span style="color: #727072;">- atomic non-distinct: String</span>
</pre>
</div></li>
</ul></li>
</ul>


<ul class="org-ul">
<li>By this point, running the program will return no errors.
<ul class="org-ul">
<li>This means that the data definition was well formed.</li>
</ul></li>
</ul>

<hr />
<p>
#+BEGIN_SRC racket
;; CityName is String
;; interp. the name of a city
(define CN1 "Boston")
(define CN2 "Vancouver")
</p>

<p>
(define  (fn-for-city-name CN)
  (&#x2026; CN)
  )
</p>

<p>
;; Template rules used:
;; - atomic non-distinct: String
</p>
</div>
</div>



<div id="outline-container-org8f0d375" class="outline-2">
<h2 id="org8f0d375">HtDF With Non-Primitive Data</h2>
<div class="outline-text-2" id="text-org8f0d375">
<ul class="org-ul">
<li>A function which consumes <b>non-primitive data</b> is one that consumes data defined by your own data definition.</li>
</ul>


<ul class="org-ul">
<li>In this example, the function will consume the type CityName</li>
</ul>


<ul class="org-ul">
<li>PROBLEM:</li>

<li>Using the CityName data definition below design a function that produces true if the given city is the best in the world.</li>
<li><p>
(You are free to decide for yourself which is the best city in the world.)
</p>
<div class="org-src-container">
<pre class="src src-racket">
<span style="color: #727072;">;; </span><span style="color: #727072;">Data definitions:</span>


<span style="color: #727072;">;; </span><span style="color: #727072;">CityName is String</span>
<span style="color: #727072;">;; </span><span style="color: #727072;">interp. the name of a city</span>
<span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">define</span> <span style="color: #FCFCFA;">CN1</span> <span style="color: #FFD866;">"Boston"</span><span style="color: #AB9DF2;">)</span>
<span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">define</span> <span style="color: #FCFCFA;">CN2</span> <span style="color: #FFD866;">"Vancouver"</span><span style="color: #AB9DF2;">)</span>
<span style="color: #727072;">#;</span>
<span style="color: #AB9DF2;">(</span><span style="color: #727072;">define </span><span style="color: #78DCE8;">(</span><span style="color: #727072;">fn-for-city-name cn</span><span style="color: #78DCE8;">)</span>
<span style="color: #727072;">  </span><span style="color: #78DCE8;">(</span><span style="color: #727072;">... cn</span><span style="color: #78DCE8;">)</span><span style="color: #AB9DF2;">)</span>

<span style="color: #727072;">;; </span><span style="color: #727072;">Template rules used:              For the first part of the course</span>
<span style="color: #727072;">;;   </span><span style="color: #727072;">atomic non-distinct: String     we want you to list the template</span>
<span style="color: #727072;">;;                                   </span><span style="color: #727072;">rules used after each template.</span>
<span style="color: #727072;">;;</span>

<span style="color: #727072;">;; </span><span style="color: #727072;">Functions:</span>

<span style="color: #727072;">;; </span><span style="color: #727072;">CityName -&gt; Boolean</span>
<span style="color: #727072;">;; </span><span style="color: #727072;">produce true if the given city is Hogsmeade</span>

<span style="color: #727072;">; </span><span style="color: #727072;">(define (best? cn) false)   ; stub</span>
<span style="color: #AB9DF2;">(</span>check-expect <span style="color: #78DCE8;">(</span>best? <span style="color: #FFD866;">"Boston"</span><span style="color: #78DCE8;">)</span> <span style="color: #78DCE8;">false</span><span style="color: #AB9DF2;">)</span>
<span style="color: #AB9DF2;">(</span>check-expect <span style="color: #78DCE8;">(</span>best? <span style="color: #FFD866;">"Hogsmeade"</span><span style="color: #78DCE8;">)</span> <span style="color: #78DCE8;">true</span><span style="color: #AB9DF2;">)</span>

<span style="color: #727072;">; </span><span style="color: #727072;">took template from CityName</span>

<span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">define</span> <span style="color: #78DCE8;">(</span><span style="color: #A9DC76;">best?</span> cn<span style="color: #78DCE8;">)</span>  <span style="color: #727072;">; </span><span style="color: #727072;">template</span>
  <span style="color: #78DCE8;">(</span><span style="color: #FF6188;">if</span> <span style="color: #FC9867;">(</span><span style="color: #78DCE8;">string=?</span> cn <span style="color: #FFD866;">"Hogsmeade"</span><span style="color: #FC9867;">)</span>
      <span style="color: #78DCE8;">true</span>
      <span style="color: #78DCE8;">false</span>
      <span style="color: #78DCE8;">)</span>
  <span style="color: #AB9DF2;">)</span>

</pre>
</div>
<ul class="org-ul">
<li>Now both tests will pass.</li>
</ul></li>
</ul>


<ul class="org-ul">
<li>At a certain point in this template, <code class="src src-racket"><span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">...</span> cn<span style="color: #AB9DF2;">)</span></code> was replaced with true.
<ul class="org-ul">
<li>A template tells you what's available for you to work with, but not all of it has to be used.</li>
</ul></li>
</ul>


<ul class="org-ul">
<li><p>
The above function can actually be further simplified into:
</p>
<div class="org-src-container">
<pre class="src src-racket"><span style="color: #AB9DF2;">(</span><span style="color: #FF6188;">define</span> <span style="color: #78DCE8;">(</span><span style="color: #A9DC76;">best?</span> cn<span style="color: #78DCE8;">)</span>
  <span style="color: #78DCE8;">(</span><span style="color: #78DCE8;">string=?</span> cn <span style="color: #FFD866;">"Hogsmeade"</span><span style="color: #78DCE8;">)</span>
  <span style="color: #AB9DF2;">)</span>
<span style="color: #727072;">;; </span><span style="color: #727072;">Writing (if ... true false) is the same as just writing (...)</span>
</pre>
</div></li>
</ul>
</div>
</div>


<div id="outline-container-orge8beb25" class="outline-2">
<h2 id="orge8beb25">HtDF X Structure of Data Orthogonality</h2>
<div class="outline-text-2" id="text-orge8beb25">
<ul class="org-ul">
<li>The HtDF and HtDD recipes are largely orthogonal.
<ul class="org-ul">
<li>HtDF works nearly the same way for all forms of data.</li>
</ul></li>
</ul>


<ul class="org-ul">
<li>Once we learn a new form of data, we already mostly know how to design functions that operate on it.</li>
</ul>
</div>
</div>
<div id="outline-container-org7f3338a" class="outline-2">
<h2 id="org7f3338a">Interval</h2>
</div>
<div id="outline-container-org00ef359" class="outline-2">
<h2 id="org00ef359">Enumeration</h2>
</div>
<div id="outline-container-orgc9f0ce7" class="outline-2">
<h2 id="orgc9f0ce7">Itemization</h2>
</div>
<div id="outline-container-orgf58af17" class="outline-2">
<h2 id="orgf58af17">HtDF with Interval</h2>
</div>
<div id="outline-container-orgaa6da0c" class="outline-2">
<h2 id="orgaa6da0c">HtDF with Enumeration</h2>
</div>
<div id="outline-container-org1b90da1" class="outline-2">
<h2 id="org1b90da1">HtDF with Itemization</h2>
</div>
<div id="outline-container-org3d87537" class="outline-2">
<h2 id="org3d87537">Struture of Information Flows Through</h2>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: John Mao</p>
</div>
</body>
</html>
